sudo: false
language: python
python:
  - "3.8"


jobs:
  include:
    stage: test
    script:
      - gem install prawn -v 2.1.0   # dependance d'asciidoct
      - gem install asciidoctor      # pour générer votre HTML
      - gem install asciidoctor-pdf --pre # pou générer le PDF
      - pip install tox
      - tox
      - chmod +x scripts/run-tests.sh
      - ./scripts/run-tests.sh
      - mkdir gh-pages
      - asciidoctor-pdf text1.adoc -o gh-pages/documentation.pdf
      - asciidoctor text1.adoc -o gh-pages/index.html
