sudo: false
language: python
python:
  - "3.8"

stages:
  - build
  - test

jobs:
  include:
    - stage: build
    script:
      - gem install prawn -v 2.1.0   # ependance d'asciidoct
      - gem install asciidocto      # pour générer votre HTML
      - gem install asciidoctor-pdf --pre # pou générer le PDF
      - pip install tox
      - tox
      - mkdir gh-pages
      - asciidoctor-pdf text1.adoc -o gh-pages/documentation.pdf
      - asciidoctor text1.adoc -o gh-pages/index.html

    - stage: test
    script:
      - chmod +x scripts/run-tests.sh
      - ./scripts/run-tests.sh

